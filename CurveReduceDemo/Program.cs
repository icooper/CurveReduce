using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

using CurveReduce;

namespace CurveReduceDemo
{
    class Program
    {
        static void Main(string[] args)
        {
            int count = 20;
            if (args.Length == 1 && int.TryParse(args[0], out int parsed))
            {
                count = parsed;
            }
            double[,] data = { { 1.20401e-009, -0.00120428 }, { 0.018, 0.241799 }, { 0.0396, 0.523644 }, { 0.0612, 0.798936 }, { 0.0828, 1.07471 }, { 0.1044, 1.34392 }, { 0.1269, 1.62673 }, { 0.1494, 1.89758 }, { 0.1719, 2.16197 }, { 0.1944, 2.42191 }, { 0.2178, 2.67942 }, { 0.2403, 2.93353 }, { 0.3393, 4.41469 }, { 0.5247, 6.91973 }, { 0.7056, 9.13081 }, { 0.8874, 11.141 }, { 1.0764, 13.0213 }, { 1.269, 14.8002 }, { 1.4544, 16.4757 }, { 1.6371, 18.0504 }, { 1.8243, 19.541 }, { 2.0169, 20.957 }, { 2.2104, 22.3001 }, { 2.4012, 23.5492 }, { 2.5893, 24.7082 }, { 2.7864, 25.783 }, { 2.9853, 26.7691 }, { 3.1806, 27.6589 }, { 3.3768, 28.4582 }, { 3.5766, 29.1817 }, { 3.7854, 29.8314 }, { 3.9924, 30.4127 }, { 4.1994, 30.9271 }, { 4.4073, 31.39 }, { 4.6242, 31.8032 }, { 4.842, 32.1791 }, { 5.0571, 32.5139 }, { 5.2713, 32.8131 }, { 5.4909, 33.0796 }, { 5.715, 33.3193 }, { 5.9382, 33.5356 }, { 6.1587, 33.7365 }, { 6.3801, 33.9093 }, { 6.6087, 34.0631 }, { 6.8382, 34.1971 }, { 7.0659, 34.3253 }, { 7.2909, 34.4317 }, { 7.5177, 34.5163 }, { 7.7517, 34.599 }, { 7.9848, 34.671 }, { 8.2152, 34.7393 }, { 8.4456, 34.7781 }, { 8.6814, 34.8161 }, { 8.9163, 34.8491 }, { 9.1503, 34.8744 }, { 9.3816, 34.8877 }, { 9.6183, 34.8959 }, { 9.8613, 34.904 }, { 10.0771, 34.9024 }, { 10.4173, 34.8803 }, { 10.7786, 34.8528 }, { 11.1417, 34.8032 }, { 11.5032, 34.7449 }, { 11.865, 34.6729 }, { 12.2275, 34.5985 }, { 12.5888, 34.5091 }, { 12.9515, 34.4192 }, { 13.3129, 34.3326 }, { 13.6742, 34.2301 }, { 14.0371, 34.13 }, { 14.3986, 34.036 }, { 14.7603, 33.9307 }, { 15.1228, 33.8227 }, { 15.484, 33.7252 }, { 15.8466, 33.6217 }, { 16.2079, 33.5205 }, { 16.5694, 33.4208 }, { 16.9323, 33.3147 }, { 17.2939, 33.2113 }, { 17.6555, 33.114 }, { 18.0181, 33.0196 }, { 18.3794, 32.9192 }, { 18.7421, 32.8277 }, { 19.1035, 32.733 }, { 19.4648, 32.6417 }, { 19.8279, 32.5407 }, { 20.1892, 32.453 }, { 20.5509, 32.3578 }, { 20.9134, 32.2699 }, { 21.2747, 32.1791 }, { 21.6373, 32.0942 }, { 21.9986, 32.0043 }, { 22.36, 31.9221 }, { 22.7229, 31.8425 }, { 23.0845, 31.7573 }, { 23.4462, 31.6751 }, { 23.8088, 31.5974 }, { 24.1702, 31.5172 }, { 24.5326, 31.435 }, { 24.8941, 31.354 }, { 25.2555, 31.2795 }, { 25.6185, 31.2047 }, { 25.9798, 31.1348 }, { 26.3416, 31.0584 }, { 26.7041, 30.9877 }, { 27.0653, 30.918 }, { 27.4278, 30.8467 }, { 27.7892, 30.7713 }, { 28.1506, 30.7087 }, { 28.5136, 30.6414 }, { 28.8751, 30.5719 }, { 29.2369, 30.5042 }, { 29.5994, 30.4409 }, { 29.9607, 30.3736 }, { 30.3234, 30.3101 }, { 30.6848, 30.2506 }, { 31.0461, 30.1809 }, { 31.4091, 30.115 }, { 31.7705, 30.0572 }, { 32.1322, 29.9963 }, { 32.4948, 29.9363 }, { 32.856, 29.8787 }, { 33.2184, 29.8226 }, { 33.5799, 29.7593 }, { 33.9411, 29.7035 }, { 34.3042, 29.6443 }, { 34.6657, 29.5867 }, { 35.0275, 29.5309 }, { 35.3901, 29.4782 }, { 35.7514, 29.4231 }, { 36.114, 29.3758 }, { 36.4754, 29.3182 }, { 36.8368, 29.2657 }, { 37.1997, 29.2153 }, { 37.5612, 29.1651 }, { 37.9228, 29.1206 }, { 38.2854, 29.0647 }, { 38.6467, 29.0197 }, { 39.0091, 28.9697 }, { 39.3705, 28.9197 }, { 39.7318, 28.8724 }, { 40.0949, 28.8267 }, { 40.4564, 28.7797 }, { 40.8181, 28.7336 }, { 41.1807, 28.6933 }, { 41.5421, 28.6469 }, { 41.9046, 28.6071 }, { 42.2661, 28.5613 }, { 42.6274, 28.5204 }, { 42.9904, 28.4705 }, { 43.3519, 28.4275 }, { 43.7134, 28.3835 }, { 44.076, 28.3382 }, { 44.4371, 28.3077 }, { 44.7998, 28.2605 }, { 45.1612, 28.2194 }, { 45.5226, 28.1757 }, { 45.8855, 28.1386 }, { 46.247, 28.0997 }, { 46.6087, 28.0604 }, { 46.9714, 28.022 }, { 47.3327, 27.9812 }, { 47.6953, 27.9467 }, { 48.0567, 27.9055 }, { 48.4179, 27.8673 }, { 48.7811, 27.83 }, { 49.1425, 27.8001 }, { 49.5042, 27.761 }, { 49.8666, 27.7239 }, { 50.2279, 27.6862 }, { 50.5904, 27.6477 }, { 50.9517, 27.6118 }, { 51.3132, 27.5805 }, { 51.6762, 27.5454 }, { 52.0378, 27.5109 }, { 52.3994, 27.4799 }, { 52.7621, 27.443 }, { 53.1232, 27.4082 }, { 53.4859, 27.3717 }, { 53.8474, 27.3421 }, { 54.2087, 27.3116 }, { 54.5718, 27.2808 }, { 54.9332, 27.251 }, { 55.2948, 27.2169 }, { 55.6573, 27.189 }, { 56.0185, 27.1584 }, { 56.3811, 27.1262 }, { 56.7425, 27.0968 }, { 57.1038, 27.0701 }, { 57.4668, 27.0372 }, { 57.8284, 27.0093 }, { 58.19, 26.9823 }, { 58.5527, 26.9543 }, { 58.9139, 26.9236 }, { 59.2766, 26.8985 }, { 59.6379, 26.8715 }, { 59.9994, 26.8419 }, { 60.3623, 26.8164 }, { 60.7239, 26.7892 }, { 61.0854, 26.7587 }, { 61.448, 26.7313 }, { 61.8092, 26.708 }, { 62.1717, 26.6807 }, { 62.5331, 26.6516 }, { 62.8944, 26.6315 }, { 63.2575, 26.6065 }, { 63.619, 26.5796 }, { 63.9808, 26.5581 }, { 64.3433, 26.5366 }, { 64.7046, 26.5049 }, { 65.0673, 26.4853 }, { 65.4286, 26.4584 }, { 65.79, 26.435 }, { 66.1529, 26.4133 }, { 66.5145, 26.3925 }, { 66.8761, 26.3701 }, { 67.2386, 26.3425 }, { 67.5999, 26.3273 }, { 67.9623, 26.3016 }, { 68.3238, 26.2777 }, { 68.6851, 26.2565 }, { 69.0481, 26.2356 }, { 69.4096, 26.2126 }, { 69.7714, 26.1927 }, { 70.1339, 26.1751 }, { 70.4953, 26.1501 }, { 70.8578, 26.1324 }, { 71.2193, 26.1083 }, { 71.5807, 26.0938 }, { 71.9436, 26.0673 }, { 72.3051, 26.0528 }, { 72.6667, 26.0293 }, { 73.0292, 26.0147 }, { 73.3904, 25.9954 }, { 73.753, 25.9761 }, { 74.1143, 25.953 }, { 74.4758, 25.9336 }, { 74.8387, 25.918 }, { 75.2002, 25.8977 }, { 75.562, 25.8838 }, { 75.9247, 25.8659 }, { 76.286, 25.8486 }, { 76.6485, 25.8303 }, { 77.01, 25.8149 }, { 77.3713, 25.7976 }, { 77.7343, 25.7787 }, { 78.0957, 25.7628 }, { 78.4575, 25.7439 }, { 78.8199, 25.7266 }, { 79.1811, 25.7099 }, { 79.5437, 25.6979 }, { 79.9051, 25.6784 }, { 80.2665, 25.6677 }, { 80.6293, 25.6524 }, { 80.991, 25.6342 }, { 81.3527, 25.6214 }, { 81.7152, 25.6068 }, { 82.0766, 25.5928 }, { 82.4392, 25.5782 }, { 82.8006, 25.5672 }, { 83.1619, 25.5492 }, { 83.525, 25.5353 }, { 83.8864, 25.5237 }, { 84.248, 25.5088 }, { 84.6105, 25.4963 }, { 84.9719, 25.4842 }, { 85.3342, 25.4746 }, { 85.6957, 25.4581 }, { 86.0571, 25.4491 }, { 86.4201, 25.4341 }, { 86.7816, 25.421 }, { 87.1434, 25.4073 }, { 87.5059, 25.3962 }, { 87.8671, 25.3873 }, { 88.2298, 25.3747 }, { 88.5912, 25.3638 }, { 88.9527, 25.3505 }, { 89.3155, 25.3418 }, { 89.677, 25.3325 }, { 90.0387, 25.3214 }, { 90.4012, 25.308 }, { 90.7624, 25.2991 }, { 91.1249, 25.2914 }, { 91.4864, 25.276 }, { 91.8477, 25.2659 }, { 92.2106, 25.2578 }, { 92.5723, 25.2509 }, { 92.9339, 25.2402 }, { 93.2966, 25.2301 }, { 93.6578, 25.2161 }, { 94.0204, 25.2092 }, { 94.3818, 25.1978 }, { 94.7432, 25.189 }, { 95.1062, 25.1786 }, { 95.4678, 25.1709 }, { 95.8293, 25.1627 }, { 96.1918, 25.1512 }, { 96.5529, 25.1455 }, { 96.9156, 25.1362 }, { 97.277, 25.1275 }, { 97.6382, 25.1209 }, { 98.0013, 25.115 }, { 98.3628, 25.1058 }, { 98.7246, 25.0974 }, { 99.0872, 25.0926 }, { 99.4486, 25.0813 }, { 99.811, 25.0772 }, { 100.173, 25.0695 }, { 100.534, 25.0648 }, { 100.897, 25.0562 }, { 101.258, 25.0517 }, { 101.62, 25.0467 }, { 101.983, 25.0399 }, { 102.344, 25.0337 }, { 102.706, 25.0242 }, { 103.068, 25.0194 }, { 103.429, 25.0138 }, { 103.792, 25.0114 }, { 104.154, 25.0031 }, { 104.515, 24.9965 }, { 104.878, 24.9899 }, { 105.239, 24.9815 }, { 105.602, 24.9785 }, { 105.963, 24.971 }, { 106.324, 24.9685 }, { 106.688, 24.9631 }, { 107.049, 24.96 }, { 107.411, 24.9534 }, { 107.773, 24.9493 }, { 108.134, 24.9447 }, { 108.497, 24.9416 }, { 108.858, 24.9377 }, { 109.22, 24.9334 }, { 109.583, 24.933 }, { 109.944, 24.9255 }, { 110.306, 24.9261 }, { 110.668, 24.9248 }, { 111.03, 24.9202 }, { 111.392, 24.9175 }, { 111.754, 24.9108 }, { 112.115, 24.9104 }, { 112.478, 24.9062 }, { 112.84, 24.9088 }, { 113.201, 24.9002 }, { 113.564, 24.8991 }, { 113.925, 24.8989 }, { 114.287, 24.8994 }, { 114.649, 24.8942 }, { 115.01, 24.8973 }, { 115.373, 24.8961 }, { 115.735, 24.8923 }, { 116.097, 24.8948 }, { 116.459, 24.8928 }, { 116.82, 24.8929 }, { 117.183, 24.8923 }, { 117.544, 24.8943 }, { 117.906, 24.8914 }, { 118.269, 24.8906 }, { 118.63, 24.893 }, { 118.992, 24.8898 }, { 119.354, 24.8896 }, { 119.716, 24.8861 }, { 120.078, 24.8883 }, { 120.44, 24.8838 }, { 120.801, 24.8843 }, { 121.164, 24.8829 }, { 121.525, 24.8811 }, { 121.887, 24.8809 }, { 122.25, 24.8797 }, { 122.611, 24.8794 }, { 122.974, 24.8806 }, { 123.335, 24.8826 }, { 123.696, 24.8809 }, { 124.059, 24.8793 }, { 124.421, 24.8773 }, { 124.783, 24.8772 }, { 125.145, 24.8776 }, { 125.506, 24.8786 }, { 125.869, 24.883 }, { 126.23, 24.8775 }, { 126.592, 24.8808 }, { 126.955, 24.8805 }, { 127.316, 24.8808 }, { 127.678, 24.8799 }, { 128.04, 24.8846 }, { 128.402, 24.8866 }, { 128.764, 24.8861 }, { 129.126, 24.8926 }, { 129.487, 24.8918 }, { 129.85, 24.8953 }, { 130.212, 24.8972 }, { 130.573, 24.8979 }, { 130.936, 24.8972 }, { 131.297, 24.9046 }, { 131.659, 24.9034 }, { 132.021, 24.9037 }, { 132.382, 24.9083 }, { 132.745, 24.9075 }, { 133.107, 24.9107 }, { 133.468, 24.9097 }, { 133.831, 24.9139 }, { 134.192, 24.9117 }, { 134.555, 24.9174 }, { 134.916, 24.9186 }, { 135.278, 24.9179 }, { 135.641, 24.9238 }, { 136.002, 24.9269 }, { 136.364, 24.932 }, { 136.726, 24.9314 }, { 137.088, 24.9359 }, { 137.45, 24.9386 }, { 137.811, 24.9393 }, { 138.173, 24.9428 }, { 138.536, 24.9419 }, { 138.897, 24.9466 }, { 139.259, 24.9483 }, { 139.622, 24.9513 }, { 139.983, 24.9487 }, { 140.346, 24.9527 }, { 140.707, 24.955 }, { 141.068, 24.9584 }, { 141.431, 24.9631 }, { 141.793, 24.9613 }, { 142.155, 24.9655 }, { 142.517, 24.9644 }, { 142.878, 24.9686 }, { 143.241, 24.9674 }, { 143.602, 24.9682 }, { 143.963, 24.9708 }, { 144.326, 24.9728 }, { 144.688, 24.9739 }, { 145.05, 24.9757 }, { 145.412, 24.9814 }, { 145.774, 24.9788 }, { 146.136, 24.9825 }, { 146.498, 24.9849 }, { 146.859, 24.9872 }, { 147.222, 24.9897 }, { 147.584, 24.9901 }, { 147.945, 24.9915 }, { 148.308, 24.9883 }, { 148.669, 24.9964 }, { 149.031, 24.9938 }, { 149.393, 24.9939 }, { 149.754, 24.9976 }, { 150.117, 25.0008 }, { 150.479, 25.0018 }, { 150.84, 25.0041 }, { 151.203, 25.0094 }, { 151.564, 25.0063 }, { 151.927, 25.0118 }, { 152.288, 25.0119 }, { 152.65, 25.0161 }, { 153.013, 25.0186 }, { 153.374, 25.0246 }, { 153.736, 25.0286 }, { 154.098, 25.023 }, { 154.46, 25.0306 }, { 154.822, 25.0334 }, { 155.183, 25.0368 }, { 155.545, 25.0407 }, { 155.908, 25.0485 }, { 156.269, 25.0525 }, { 156.631, 25.0574 }, { 156.994, 25.0633 }, { 157.355, 25.0664 }, { 157.718, 25.074 }, { 158.079, 25.0765 }, { 158.44, 25.087 }, { 158.803, 25.0897 }, { 159.165, 25.0993 }, { 159.526, 25.102 }, { 159.889, 25.1091 }, { 160.25, 25.1156 }, { 160.613, 25.1219 }, { 160.974, 25.1281 }, { 161.335, 25.1313 }, { 161.698, 25.1416 }, { 162.06, 25.1431 }, { 162.422, 25.1527 }, { 162.784, 25.1609 }, { 163.146, 25.1691 }, { 163.508, 25.1768 }, { 163.87, 25.1818 }, { 164.231, 25.1909 }, { 164.594, 25.1939 }, { 164.955, 25.2065 }, { 165.317, 25.2092 }, { 165.68, 25.2166 }, { 166.041, 25.2276 }, { 166.403, 25.2386 }, { 166.765, 25.2449 }, { 167.126, 25.2536 }, { 167.489, 25.2626 }, { 167.851, 25.2682 }, { 168.212, 25.2797 }, { 168.575, 25.2875 }, { 168.936, 25.293 }, { 169.299, 25.3027 }, { 169.66, 25.3136 }, { 170.022, 25.3221 }, { 170.385, 25.3299 }, { 170.746, 25.3423 }, { 171.108, 25.3469 }, { 171.47, 25.3579 }, { 171.832, 25.3681 }, { 172.194, 25.3806 }, { 172.555, 25.3867 }, { 172.917, 25.3982 }, { 173.28, 25.4073 }, { 173.641, 25.4142 }, { 174.003, 25.4242 }, { 174.366, 25.4316 }, { 174.727, 25.4468 }, { 175.09, 25.4554 }, { 175.451, 25.4674 }, { 175.812, 25.4752 }, { 176.175, 25.4845 }, { 176.537, 25.497 }, { 176.898, 25.5058 }, { 177.261, 25.5176 }, { 177.622, 25.5281 }, { 177.985, 25.5419 }, { 178.346, 25.5477 }, { 178.707, 25.563 }, { 179.07, 25.5737 }, { 179.432, 25.5877 }, { 179.794, 25.6 }, { 180.156, 25.6105 }, { 180.518, 25.6204 }, { 180.88, 25.6307 }, { 181.242, 25.6459 }, { 181.603, 25.6541 }, { 181.966, 25.6662 }, { 182.327, 25.6782 }, { 182.689, 25.69 }, { 183.051, 25.6981 }, { 183.413, 25.7099 }, { 183.775, 25.7234 }, { 184.137, 25.7327 }, { 184.498, 25.7498 }, { 184.861, 25.7613 }, { 185.222, 25.7738 }, { 185.584, 25.7837 }, { 185.947, 25.7993 }, { 186.308, 25.8078 }, { 186.671, 25.8215 }, { 187.032, 25.838 }, { 187.394, 25.8485 }, { 187.757, 25.8611 }, { 188.118, 25.8727 }, { 188.48, 25.885 }, { 188.842, 25.8953 }, { 189.203, 25.9079 }, { 189.566, 25.9156 }, { 189.927, 25.9282 }, { 190.289, 25.9395 }, { 190.652, 25.9477 }, { 191.013, 25.9581 }, { 191.375, 25.965 }, { 191.738, 25.9794 }, { 192.099, 25.985 }, { 192.461, 25.9954 }, { 192.823, 26.0036 }, { 193.184, 26.0178 }, { 193.547, 26.0281 }, { 193.909, 26.0356 }, { 194.27, 26.0458 }, { 194.633, 26.0538 }, { 194.994, 26.0641 }, { 195.357, 26.0719 }, { 195.718, 26.0786 }, { 196.079, 26.0862 }, { 196.442, 26.0988 }, { 196.804, 26.1086 }, { 197.166, 26.1166 }, { 197.528, 26.1278 }, { 197.889, 26.1354 }, { 198.252, 26.145 }, { 198.614, 26.1491 }, { 198.975, 26.1596 }, { 199.338, 26.1626 }, { 199.699, 26.1729 } };
            List<Point> points = CurveReduce.CurveReduce.CreatePointList(data);

            foreach (Point p in points.SimplifyTo(count))
            {
                Console.WriteLine(p.Join("\t"));
            }
        }
    }
}
